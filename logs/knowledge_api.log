2025-10-09 17:16:49,304 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 17:20:20,532 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 17:20:44,931 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 17:20:52,166 - request - INFO - Request: GET http://localhost:8000/health from 127.0.0.1
2025-10-09 17:20:52,168 - response - INFO - Response: 200 in 0.002s
2025-10-09 17:27:58,283 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 17:30:31,356 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 17:33:04,342 - request - INFO - Request: GET http://localhost:8000/health from 127.0.0.1
2025-10-09 17:33:04,343 - response - INFO - Response: 200 in 0.001s
2025-10-09 17:37:37,505 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 19:08:06,182 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 19:17:16,611 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 19:18:58,249 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 19:21:01,659 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 19:21:58,417 - request - INFO - Request: GET http://localhost:8000/health from 127.0.0.1
2025-10-09 19:21:58,418 - response - INFO - Response: 200 in 0.001s
2025-10-09 19:22:06,960 - request - INFO - Request: GET http://localhost:8000/docs from 127.0.0.1
2025-10-09 19:22:06,962 - response - INFO - Response: 200 in 0.002s
2025-10-09 19:22:14,785 - request - INFO - Request: POST http://localhost:8000/query from 127.0.0.1
2025-10-09 19:22:14,791 - __main__ - INFO - Query: test
2025-10-09 19:22:14,791 - api - INFO - API call to /query with params {'query': 'test', 'top_k': 1} successful
2025-10-09 19:22:19,588 - llama_index.core.response_synthesizers.refine - WARNING - Validation error on structured response: 1 validation error for ChatResponse
message
  Field required [type=missing, input_value={'choices': [{'finish_rea...nd': 33.60695619183896}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
Traceback (most recent call last):
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index/core/response_synthesizers/refine.py", line 241, in _give_response_single
    program(
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index_instrumentation/dispatcher.py", line 335, in wrapper
    result = func(*args, **kwargs)
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index/core/response_synthesizers/refine.py", line 85, in __call__
    answer = self._llm.predict(
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index_instrumentation/dispatcher.py", line 335, in wrapper
    result = func(*args, **kwargs)
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index/core/llms/llm.py", line 623, in predict
    chat_response = self.chat(messages)
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index_instrumentation/dispatcher.py", line 335, in wrapper
    result = func(*args, **kwargs)
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index/core/llms/callbacks.py", line 175, in wrapped_llm_chat
    f_return_val = f(_self, messages, **kwargs)
  File "/home/jokh38/.local/lib/python3.10/site-packages/llama_index/llms/ollama/base.py", line 347, in chat
    response = self.client.chat(
  File "/home/jokh38/.local/lib/python3.10/site-packages/ollama/_client.py", line 351, in chat
    return self._request(
  File "/home/jokh38/.local/lib/python3.10/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
  File "/home/jokh38/.local/lib/python3.10/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ChatResponse
message
  Field required [type=missing, input_value={'choices': [{'finish_rea...nd': 33.60695619183896}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-10-09 19:22:19,593 - __main__ - INFO - Query completed in 4.80s
2025-10-09 19:22:19,593 - api - INFO - API call to /query with params {'query': 'test'} successful
2025-10-09 19:22:19,594 - response - INFO - Response: 200 in 4.809s
2025-10-09 19:23:41,289 - __main__ - INFO - Starting Knowledge Repository API on 0.0.0.0:8000
2025-10-09 19:24:43,646 - request - INFO - Request: GET http://localhost:8000/health from 127.0.0.1
2025-10-09 19:24:43,647 - response - INFO - Response: 200 in 0.001s
2025-10-09 19:25:16,658 - request - INFO - Request: POST http://localhost:8000/capture from 127.0.0.1
2025-10-09 19:25:16,663 - __main__ - INFO - Capturing URL: https://example.com/
2025-10-09 19:25:16,664 - api - INFO - API call to /capture with params {'url': 'https://example.com/', 'method': None} successful
2025-10-09 19:25:17,052 - src.scraper - ERROR - Error scraping https://example.com/: Firecrawl failed: 
2025-10-09 19:25:17,053 - root - WARNING - scrape_url_with_bash attempt 1 failed: Firecrawl failed: . Retrying in 2s...
2025-10-09 19:25:19,398 - src.scraper - ERROR - Error scraping https://example.com/: Firecrawl failed: 
2025-10-09 19:25:19,398 - root - WARNING - scrape_url_with_bash attempt 2 failed: Firecrawl failed: . Retrying in 4s...
2025-10-09 19:25:23,722 - src.scraper - ERROR - Error scraping https://example.com/: Firecrawl failed: 
2025-10-09 19:25:23,722 - root - ERROR - scrape_url_with_bash failed after 3 attempts: Firecrawl failed: 
2025-10-09 19:25:23,722 - src.scraper - WARNING - Bash method failed: Firecrawl failed: . Trying Python method...
2025-10-09 19:25:23,723 - src.scraper - ERROR - Error scraping https://example.com/: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:25:23,724 - root - WARNING - scrape_url_with_python attempt 1 failed: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given. Retrying in 2s...
2025-10-09 19:25:25,726 - src.scraper - ERROR - Error scraping https://example.com/: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:25:25,727 - root - WARNING - scrape_url_with_python attempt 2 failed: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given. Retrying in 4s...
2025-10-09 19:25:29,732 - src.scraper - ERROR - Error scraping https://example.com/: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:25:29,732 - root - ERROR - scrape_url_with_python failed after 3 attempts: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:25:29,732 - src.scraper - WARNING - Python method failed: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given. Using requests fallback...
2025-10-09 19:25:36,392 - src.obsidian_writer - INFO - Successfully saved to: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md
2025-10-09 19:25:37,185 - src.retriever - INFO - Indexed new file: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md
2025-10-09 19:25:37,185 - __main__ - INFO - Successfully indexed: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md
2025-10-09 19:25:37,186 - __main__ - INFO - Successfully saved to: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md in 20.52s
2025-10-09 19:25:37,186 - api - INFO - API call to /capture with params {'url': 'https://example.com/'} successful
2025-10-09 19:25:37,187 - response - INFO - Response: 200 in 20.528s
2025-10-09 19:26:40,682 - request - INFO - Request: OPTIONS http://localhost:8000/capture from 127.0.0.1
2025-10-09 19:26:40,684 - response - INFO - Response: 200 in 0.001s
2025-10-09 19:27:06,490 - request - INFO - Request: POST http://localhost:8000/capture from 127.0.0.1
2025-10-09 19:27:06,493 - __main__ - INFO - Capturing URL: https://example.com/
2025-10-09 19:27:06,493 - api - INFO - API call to /capture with params {'url': 'https://example.com/', 'method': None} successful
2025-10-09 19:27:06,876 - src.scraper - ERROR - Error scraping https://example.com/: Firecrawl failed: 
2025-10-09 19:27:06,876 - root - WARNING - scrape_url_with_bash attempt 1 failed: Firecrawl failed: . Retrying in 2s...
2025-10-09 19:27:09,225 - src.scraper - ERROR - Error scraping https://example.com/: Firecrawl failed: 
2025-10-09 19:27:09,225 - root - WARNING - scrape_url_with_bash attempt 2 failed: Firecrawl failed: . Retrying in 4s...
2025-10-09 19:27:13,611 - src.scraper - ERROR - Error scraping https://example.com/: Firecrawl failed: 
2025-10-09 19:27:13,611 - root - ERROR - scrape_url_with_bash failed after 3 attempts: Firecrawl failed: 
2025-10-09 19:27:13,611 - src.scraper - WARNING - Bash method failed: Firecrawl failed: . Trying Python method...
2025-10-09 19:27:13,612 - src.scraper - ERROR - Error scraping https://example.com/: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:27:13,612 - root - WARNING - scrape_url_with_python attempt 1 failed: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given. Retrying in 2s...
2025-10-09 19:27:15,614 - src.scraper - ERROR - Error scraping https://example.com/: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:27:15,615 - root - WARNING - scrape_url_with_python attempt 2 failed: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given. Retrying in 4s...
2025-10-09 19:27:19,620 - src.scraper - ERROR - Error scraping https://example.com/: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:27:19,620 - root - ERROR - scrape_url_with_python failed after 3 attempts: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given
2025-10-09 19:27:19,620 - src.scraper - WARNING - Python method failed: FirecrawlClient.scrape() takes 2 positional arguments but 3 were given. Using requests fallback...
2025-10-09 19:27:25,885 - src.obsidian_writer - INFO - Successfully saved to: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md
2025-10-09 19:27:25,959 - src.retriever - INFO - Indexed new file: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md
2025-10-09 19:27:25,961 - __main__ - INFO - Successfully indexed: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md
2025-10-09 19:27:25,961 - __main__ - INFO - Successfully saved to: /home/jokh38/Documents/ObsidianVault/00_Inbox/Clippings/2025-10-09 - Example-Domain.md in 19.47s
2025-10-09 19:27:25,961 - api - INFO - API call to /capture with params {'url': 'https://example.com/'} successful
2025-10-09 19:27:25,964 - response - INFO - Response: 200 in 19.474s
